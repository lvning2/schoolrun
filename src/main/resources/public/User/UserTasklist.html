<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>用户任务列表</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../static/layui/css/layui.css">
  <script src="../static/layui/layui.js"></script>
  <script src="../static/jquery-1.11.0.min.js"></script>
</head>
<body>
 <!--   
 	这是用户发布的任务列表页面
 		需要进行layui的数据填充，{
 			,url:"${pageContext.request.contextPath}/usertasklist"
 			data{
 				tid,trecom,tstart,tasate
 			}
 		}
		当点击某行时会触发点击事件，{
			url:"${pageContext.request.contextPath}/usertaskmain",
	 					type:"post",
	 					data:{"tid":data.tid}
		}
    -->
    
<table class="layui-hide" id="test" lay-filter="test">
	
</table>
              
<script>

		layui.use('table', function(){
		  var table = layui.table;
		  
				  table.render({
					elem: '#test'
					,url:"/list"
					 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
					,cols: [[
					  {field:'tid',  width:'20%' , title: '任务编号', sort: true}
					  ,{field:'trecom',  width: '40%' , title: '任务简介'} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
					  ,{field:'tstart', width:'20%' , title: '任务发起时间', sort: true} 
					   ,{field:'tasate', width: '20%' , title: '任务状态'}
							]]
				  });

				  //为每个表格的行添加点击事件
  		table.on('row(test)',function(obj){
  		    console.log("***已经进入点击事件");//可以打印出当前行的信息
	 				var data=obj.data;
	 				var tid=data.tid;
	 				window.location.href="/User/UserTaskmain.html?tid="+tid;
		  });

});

</script>

</body>
</html>





